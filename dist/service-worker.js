(()=>{"use strict";var e,t={342:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=u(0),i.throw=u(1),i.return=u(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHandler=void 0;var o=n(118),i=n(1),u=n(862);t.defaultHandler=function(e,t,n){return r(void 0,void 0,void 0,(function(){return a(this,(function(r){if(e&&e.type)switch(e.type){case o.Type.NAV:(0,i.defaultHandler)(e.payload,t,n);break;case o.Type.TAB:(0,u.defaultHandler)(e.payload,t,n);break;default:n({})}return[2]}))}))}},118:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0,function(e){e.TAB="TAB",e.NAV="NAVIGATION"}(n||(t.Type=n={}))},1:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=u(0),i.throw=u(1),i.return=u(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHandler=void 0;var o=n(233);t.defaultHandler=function(e,t,n){return r(void 0,void 0,void 0,(function(){var t,r,i,u,c,l,s,f,p,h,d;return a(this,(function(a){switch(a.label){case 0:if(!e||!e.type)return[3,10];switch(e.type){case o.NavType.GET_ALL:return[3,1];case o.NavType.ADD:return[3,3];case o.NavType.UPDATE_BY_ID:return[3,5];case o.NavType.REMOVE_BY_ID:return[3,7]}return[3,9];case 1:return[4,chrome.storage.local.get("navigation")];case 2:return f=a.sent(),p=f.navigation,n({navigation:p}),[3,10];case 3:return[4,chrome.storage.local.get("navigation")];case 4:return f=a.sent(),p=f.navigation,t=p.length,r={id:t,name:e.payload.name,host:e.payload.host},p.push(r),chrome.storage.local.set({navigation:p}),n({navigation:p}),[3,10];case 5:return[4,chrome.storage.local.get("navigation")];case 6:return f=a.sent(),p=f.navigation,i=e.payload.id,d=p.findIndex((function(e){return e.id===i})),u=p[d],c=e.payload,l=c.host,s=c.name,"string"==typeof l&&(u.host=e.payload.host),"string"==typeof s&&(u.name=e.payload.name),chrome.storage.local.set({navigation:p}),n({navigation:p}),[3,10];case 7:return[4,chrome.storage.local.get("navigation")];case 8:return f=a.sent(),p=f.navigation,h=e.payload.id,d=p.findIndex((function(e){return e.id===h})),p.splice(d,1),chrome.storage.local.set({navigation:p}),n({navigation:p}),[3,10];case 9:n({}),a.label=10;case 10:return[2]}}))}))}},233:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NavType=void 0,function(e){e.GET_ALL="GET_ALL",e.GET_BY_ID="GET_BY_ID",e.UPDATE_BY_ID="UPDATE",e.ADD="ADD",e.REMOVE_BY_ID="REMOVE_BY_ID"}(n||(t.NavType=n={}))},862:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=u(0),i.throw=u(1),i.return=u(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHandler=void 0;var o=n(6),i=n(864);t.defaultHandler=function(e,t,n){return r(void 0,void 0,void 0,(function(){var t,r,u;return a(this,(function(a){switch(a.label){case 0:if(!e||!e.type)return[3,8];switch(e.type){case o.TabType.GET_URL:return[3,1];case o.TabType.SET_URL:return[3,3]}return[3,7];case 1:return[4,(0,i.getCurrentTab)()];case 2:return(t=a.sent())&&n({url:t.url}),n({}),[3,8];case 3:return[4,(0,i.getCurrentTab)()];case 4:return t=a.sent(),r=e.payload.url,t?(u=(0,i.changeHost)(t.url,r),[4,chrome.tabs.update(t.id,{url:u.toString()})]):[3,6];case 5:a.sent(),a.label=6;case 6:return n({}),[3,8];case 7:n({}),a.label=8;case 8:return[2]}}))}))}},864:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}c((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=u(0),i.throw=u(1),i.return=u(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.changeHost=t.getCurrentTab=void 0;var a={active:!0};t.getCurrentTab=function(){return n(void 0,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,chrome.tabs.query(a)];case 1:return[2,e.sent()[0]]}}))}))},t.changeHost=function(e,t){var n=new URL(e),r=new URL(t);return n.host=r.host,n}},6:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TabType=void 0,function(e){e.GET_URL="GET_URL",e.SET_URL="SET_URL"}(n||(t.TabType=n={}))}},n={};e=function e(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={exports:{}};return t[r].call(o.exports,o,o.exports,e),o.exports}(342),chrome.runtime.onInstalled.addListener((function(e){"install"===e.reason&&chrome.storage.local.set({navigation:[]})})),chrome.runtime.onMessage.addListener((function(t,n,r){return(0,e.defaultHandler)(t,n,r),!0}))})();